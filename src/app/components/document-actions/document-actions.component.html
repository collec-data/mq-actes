<a
  *ngIf="store.pdfViewerDisplayed$ | async; else openDocumentLink"
  mat-icon-button
  matTooltipPosition="above"
  matTooltip="Aperçu"
  aria-label="Aperçu"
  [href]="document.url"
  target="_blank"
  referrerpolicy="no-referrer"
  (click)="store.selectDocument(document); $event.preventDefault()"
>
  <mat-icon [class]="iconClass">visibility</mat-icon>
</a>
<ng-template #openDocumentLink>
  <a
    mat-icon-button
    matTooltipPosition="above"
    matTooltip="Aperçu"
    aria-label="Aperçu"
    [href]="document.url"
    target="_blank"
    referrerpolicy="no-referrer"
  >
    <mat-icon [class]="iconClass">visibility</mat-icon>
  </a>
</ng-template>
<a
  type="button"
  mat-icon-button
  matTooltipPosition="above"
  matTooltip="Copier le lien du document"
  aria-label="Copier le lien du document"
  [href]="document.url"
  [cdkCopyToClipboard]="copyLink._elementRef.nativeElement.href"
  (cdkCopyToClipboardCopied)="textCopied()"
  (click)="false"
  #copyLink
>
  <mat-icon [class]="iconClass">link</mat-icon>
</a>
<a
  mat-icon-button
  matTooltipPosition="above"
  matTooltip="Télécharger"
  aria-label="Télécharger"
  [href]="document.url"
  download
>
  <mat-icon [class]="iconClass">download</mat-icon>
</a>
